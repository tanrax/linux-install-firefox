#!/bin/bash

# Variables
FIREFOX_VERSION="122.0b3"
FIREFOX_URL="https://download-installer.cdn.mozilla.net/pub/firefox/releases/${FIREFOX_VERSION}/linux-x86_64/en-US/firefox-${FIREFOX_VERSION}.deb"
FIREFOX_DEB="firefox.deb"

# Exit on error
set -e

# Uninstall existing Firefox
echo "Uninstalling existing Firefox..."
sudo apt purge -y firefox

# Download new Firefox
echo "Downloading Firefox version ${FIREFOX_VERSION}..."
curl -L -o ${FIREFOX_DEB} ${FIREFOX_URL}

# Install new Firefox
echo "Installing Firefox..."
sudo apt install -y ./${FIREFOX_DEB}

# Remove downloaded package file
echo "Cleaning up..."
if [ -f ${FIREFOX_DEB} ]; then
    sudo rm ${FIREFOX_DEB}
fi

# Notify user
echo "Installation complete! Run 'firefox-beta' in terminal to launch."
